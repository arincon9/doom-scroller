window.doomScroller=window.doomScroller||[],window.doomScroller.location=document.currentScript.src.substring(0,document.currentScript.src.lastIndexOf("/")),doomScroller.start=function(){const e=window.doomScroller.location,o=document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e+"/doom-res/doom-scroller-1.0.min.css",n.type="text/css",n.rel="stylesheet",o.append(n);const d=`\n    <div id="doom-gameover"></div>\n    <div id="doom-damage"></div>\n    <div id="doom-bar" style="display:none">\n        <div id="doom-console">\n            <div id="doom-health"><img id="doom-health-img" src="${e}/doom-res/damage.png"></div>\n            <div id="doom-face"><img id="doom-face-img" src="${e}/doom-res/face.png"></div>\n            <img id="doom-full-console" src="${e}/doom-res/hud-full.png">\n            <img id="doom-res-console" src="${e}/doom-res/hud-res.png">\n        </div>\n    </div>\n    `;document.body.insertAdjacentHTML("beforeend",d);const t=e+"/doom-res/dsplpain.wav",c=e+"/doom-res/dspdiehi.wav";let r,a,i,m=!1,s=1,l=0,u=null,g=!1,f=1;function w(e){return fetch(e).then(e=>e.arrayBuffer()).then(e=>i.decodeAudioData(e)).then(e=>e)}function v(e){const o=i.createBufferSource();o.buffer=e,o.connect(i.destination),o.start()}function h(){m&&s<5&&v(r),function(e){let o;switch(e){case 0:o="0%";break;case 1:o="20%";break;case 2:o="40%";break;case 3:o="60%";break;case 4:o="80%";break;case 5:o="100%"}document.getElementById("doom-health-img").style.backgroundPositionY=o}(s),function(e){let o;switch(e){case 0:o="0%";break;case 1:o="19.1%";break;case 2:o="38.2%";break;case 3:o="58.1%";break;case 4:o="78.9%";break;case 5:o="99%"}document.getElementById("doom-face-img").style.backgroundPositionY=o}(s++);const e=document.getElementById("doom-damage");e.classList.add("doom-damage"),setTimeout((function(){e.classList.remove("doom-damage")}),200),6===s&&(document.getElementById("doom-gameover").classList.add("doom-gameover-animate"),m&&v(a))}return void 0!==doomScroller.scrollDamage&&(f=doomScroller.scrollDamage),!1===doomScroller.gameoverLogo&&(document.getElementById("doom-gameover").style.backgroundImage="none"),document.getElementById("doom-console").addEventListener("click",(function(){!async function(){i=new AudioContext,r=await w(t),a=await w(c)}(),m=!0})),window.addEventListener("scroll",(function(e){null===u&&(u=window.innerHeight*f+window.scrollY),l=window.scrollY,g||(window.requestAnimationFrame((function(){l>u&&s<=5&&(h(),u+=window.innerHeight*f),g=!1})),g=!0)})),function(){}},!1!==doomScroller.autoStart&&doomScroller.start();
